var filters = {
  toFix: function (value) {
    return parseFloat(value).toFixed(2)//此处2为保留两位小数
  },
  calcDate: function (date, currentDate){
    date = date.split(' ')
    currentDate = currentDate.split(' ')

    var dateMS = date[1].split(':')
    var currentMS = currentDate[1].split(':')

    var dateYMD = date[0].split('-')
    var currentYMD = currentDate[0].split('-')

    if (date[0] == currentDate[0] || currentYMD[2] - dateYMD[2] == 1 && currentMS[0] - dateMS[0] < 0) {
      var subHours = currentMS[0] - dateMS[0]
      if (subHours < 0) {
        subHours += 24
      }
      var subMin = currentMS[1] - dateMS[1]
      if (subMin < 0) {
        subHours--;
        subMin += 60;
      }
      if (subHours < 10) {
        subHours = '0' + subHours;
      }
      if (subMin < 10) {
        subMin = '0' + subMin
      }
      return subHours + ":" + subMin + "h"
    } else {
      return ">1天"
    }
  },
  getYMD: function(date){
    return date.substring(0,10)
  },
  subString:function(data,strIndex,endIndex){
    return data.substring(strIndex,endIndex)
  },
  payWay:function(payWay){
    if(payWay == '1'){
      return "现金"
    }
    if(payWay.substring(0,1) == '2'){
      return "微信"
    }
    if (payWay.substring(0, 1) == '3') {
      return "支付宝"
    }
    if (payWay == '4') {
      return "POS"
    }
    if (payWay == '5') {
      return "储值"
    }
    if (payWay == '6') {
      return "其他"
    }

  }
}
module.exports = {
  toFix: filters.toFix,
  calcDate: filters.calcDate,
  getYMD: filters.getYMD,
  subString: filters.subString,
  payWay: filters.payWay
}